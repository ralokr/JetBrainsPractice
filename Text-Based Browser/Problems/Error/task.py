# find a mistake below
file = open('books.txt', 'w', encoding='utf-8')

# closing and other operations are done below